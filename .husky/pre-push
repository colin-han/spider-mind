#!/bin/sh
. "$(dirname "$0")/_/husky.sh"

echo "ğŸš€ è¿è¡Œ pre-push æ£€æŸ¥..."

# ç¡®ä¿æ‰€æœ‰æµ‹è¯•éƒ½é€šè¿‡
echo "ğŸ§ª è¿è¡Œå®Œæ•´æµ‹è¯•å¥—ä»¶..."
yarn test:unit --run

echo "ğŸ”— è¿è¡Œé›†æˆæµ‹è¯•..."
yarn test:integration --run

echo "âš¡ è¿è¡Œæ€§èƒ½æµ‹è¯•..."
yarn test:performance --run

# æ„å»ºæ£€æŸ¥
echo "ğŸ—ï¸ éªŒè¯æ„å»º..."
yarn build

echo "âœ… æ‰€æœ‰æ£€æŸ¥éƒ½é€šè¿‡ï¼Œå¯ä»¥æ¨é€ä»£ç ï¼"